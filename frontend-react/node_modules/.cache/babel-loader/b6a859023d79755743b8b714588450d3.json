{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\David\\\\Desktop\\\\ReactJS\\\\Stock-Trading-Simulation\\\\frontend-react\\\\src\\\\components\\\\Profile.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState, useRef } from \"react\";\nimport Message from \"./Message\";\nimport ProfileCardSection from \"./ProfileCardSection\";\nimport ProfileCardSection2 from \"./ProfileCardSection2\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Profile(props) {\n  _s();\n\n  let [updates, setUpdates] = useState(0);\n  let [recents, setRecents] = useState([{\n    key: 1,\n    stockName: \"Loading\",\n    stats: [100, 2000]\n  }, {\n    key: 2,\n    stockName: \"Loading\",\n    stats: [100, 2000]\n  }, {\n    key: 3,\n    stockName: \"Loading\",\n    stats: [100, 2000]\n  }]);\n  let [gained, setGained] = useState([{\n    key: 1,\n    stockName: \"Loading\",\n    stats: [100, 2000]\n  }, {\n    key: 2,\n    stockName: \"Loading\",\n    stats: [100, 2000]\n  }, {\n    key: 3,\n    stockName: \"Loading\",\n    stats: [100, 2000]\n  }]);\n  let [lost, setLost] = useState([{\n    key: 1,\n    stockName: \"Loading\",\n    stats: [100, 2000]\n  }, {\n    key: 2,\n    stockName: \"Loading\",\n    stats: [100, 2000]\n  }, {\n    key: 3,\n    stockName: \"Loading\",\n    stats: [100, 2000]\n  }]);\n  let [stocks, setStocks] = useState([{\n    key: 1,\n    stockName: \"Loading\",\n    stats: [100, 2000]\n  }, {\n    key: 2,\n    stockName: \"Loading\",\n    stats: [100, 2000]\n  }, {\n    key: 3,\n    stockName: \"Loading\",\n    stats: [100, 2000]\n  }]);\n  let [netStock, setNetStock] = useState(0);\n  let [money, setMoney] = useState(0);\n\n  function configureCards(which, data) {\n    eval(\"set\" + which + \"([]);\");\n    data.stocks.forEach((element, i) => {\n      eval(\"set\" + which + \"(oldArray => [...oldArray , {key: i, stockName: element.stockName, stats: [element.volumeOwned, data.other[i]]}]);\");\n    });\n  }\n\n  function configureStocks(data) {\n    setStocks([]);\n    setNetStock(data.stockTotal);\n    setMoney(data.money);\n    data.stocks.forEach((element, i) => {\n      setStocks(oldArray => [...oldArray, {\n        key: i,\n        stockName: element.stockName,\n        stats: [element.volumeOwned, data.worths[i]]\n      }]);\n    });\n  }\n\n  function getProfileDetails() {\n    fetch(props.link + \"/profiledata\", {\n      method: 'POST',\n      mode: 'cors',\n      headers: {\n        \"Accept\": \"application/json\",\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        username: props.currentUsername\n      }) //accept is not necessary\n\n    }).then(res => res.json()).then(res => {\n      configureCards(\"Recents\", res.recent);\n      configureCards(\"Gained\", res.gained);\n      configureCards(\"Lost\", res.lost);\n      configureStocks(res.package);\n      setUpdates(1);\n    });\n  }\n\n  if (props.currentUsername !== \"\" && updates === 0) {\n    getProfileDetails();\n  }\n\n  const [width, setWidth] = useState(window.innerWidth);\n\n  const updateWidth = () => {\n    if (document.getElementById(\"wrapper\")) {\n      setWidth(document.getElementById(\"wrapper\").getBoundingClientRect().width);\n      console.log(document.getElementById(\"wrapper\").getBoundingClientRect().width);\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener(\"resize\", updateWidth);\n    updateWidth();\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: props.currentUsername !== \"\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"background-filler\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wrapper\",\n        id: \"wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"activity-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"activity-header-div\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"profile-activity-top-text\",\n              style: {\n                color: \"#0f52ba\"\n              },\n              children: \"Net Stock:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 5\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"profile-activity-top-text\",\n              style: {\n                color: \"#0f52ba\"\n              },\n              children: [\"$\", netStock]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 5\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 3\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"activity-header-div\",\n            children: /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"profile-activity-top-title\",\n              children: \"Activity\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 5\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 3\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"activity-header-div\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"profile-activity-top-text\",\n              style: {\n                color: \"#50c878\",\n                textAlign: \"right\"\n              },\n              children: \"Money:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 5\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"profile-activity-top-text\",\n              style: {\n                color: \"#50c878\",\n                textAlign: \"right\"\n              },\n              children: [\"$\", money]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 5\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 3\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 1\n        }, this), /*#__PURE__*/_jsxDEV(ProfileCardSection, {\n          rerouteStock: props.rerouteStock,\n          name: \"Recently Bought\",\n          cards: recents,\n          statNames: [\"Date\", \"Owned\"],\n          cardType: 2,\n          width: width\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 1\n        }, this), /*#__PURE__*/_jsxDEV(ProfileCardSection, {\n          rerouteStock: props.rerouteStock,\n          name: \"Gained Most\",\n          cards: gained,\n          statNames: [\"Gained\", \"Owned\"],\n          cardType: 3,\n          width: width\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 1\n        }, this), /*#__PURE__*/_jsxDEV(ProfileCardSection, {\n          rerouteStock: props.rerouteStock,\n          name: \"Lost Most\",\n          cards: lost,\n          statNames: [\"Lost\", \"Owned\"],\n          cardType: 1,\n          width: width\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 1\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"your-stocks-header\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"profile-stocks-top-title\",\n            children: /*#__PURE__*/_jsxDEV(\"u\", {\n              children: \"Your Stocks\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 44\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 3\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 1\n        }, this), /*#__PURE__*/_jsxDEV(ProfileCardSection2, {\n          rerouteStock: props.rerouteStock,\n          cards: stocks,\n          width: width\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 1\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 1\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 1\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Message, {\n        message: \"Login to see Profile\",\n        color: \"black\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 1\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 1\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 1\n  }, this);\n}\n\n_s(Profile, \"WCwrzhRB+a3rMwAy9WetnbELGK0=\");\n\n_c = Profile;\nexport default Profile;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"sources":["C:/Users/David/Desktop/ReactJS/Stock-Trading-Simulation/frontend-react/src/components/Profile.jsx"],"names":["React","useEffect","useState","useRef","Message","ProfileCardSection","ProfileCardSection2","Profile","props","updates","setUpdates","recents","setRecents","key","stockName","stats","gained","setGained","lost","setLost","stocks","setStocks","netStock","setNetStock","money","setMoney","configureCards","which","data","eval","forEach","element","i","configureStocks","stockTotal","oldArray","volumeOwned","worths","getProfileDetails","fetch","link","method","mode","headers","body","JSON","stringify","username","currentUsername","then","res","json","recent","package","width","setWidth","window","innerWidth","updateWidth","document","getElementById","getBoundingClientRect","console","log","addEventListener","color","textAlign","rerouteStock"],"mappings":"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","sourcesContent":["import React, {useEffect, useState, useRef } from \"react\";\nimport Message from \"./Message\";\nimport ProfileCardSection from \"./ProfileCardSection\";\nimport ProfileCardSection2 from \"./ProfileCardSection2\";\n\nfunction Profile(props){\n\nlet [updates, setUpdates] = useState(0);\nlet [recents, setRecents] = useState([{key: 1, stockName: \"Loading\", stats: [100, 2000]}, {key: 2, stockName: \"Loading\", stats: [100, 2000]}, {key: 3, stockName: \"Loading\", stats: [100, 2000]}]);\nlet [gained, setGained] = useState([{key: 1, stockName: \"Loading\", stats: [100, 2000]}, {key: 2, stockName: \"Loading\", stats: [100, 2000]}, {key: 3, stockName: \"Loading\", stats: [100, 2000]}]);\nlet [lost, setLost] = useState([{key: 1, stockName: \"Loading\", stats: [100, 2000]}, {key: 2, stockName: \"Loading\", stats: [100, 2000]}, {key: 3, stockName: \"Loading\", stats: [100, 2000]}]);\nlet [stocks, setStocks] = useState([{key: 1, stockName: \"Loading\", stats: [100, 2000]}, {key: 2, stockName: \"Loading\", stats: [100, 2000]}, {key: 3, stockName: \"Loading\", stats: [100, 2000]}]);\nlet [netStock, setNetStock] = useState(0);\nlet [money, setMoney] = useState(0);\n\nfunction configureCards(which, data){\n  eval(\"set\" + which + \"([]);\");\n  data.stocks.forEach((element, i) => {\n  eval(\"set\" + which + \"(oldArray => [...oldArray , {key: i, stockName: element.stockName, stats: [element.volumeOwned, data.other[i]]}]);\");\n  });\n}\nfunction configureStocks(data){\n  setStocks([]);\n  setNetStock(data.stockTotal);\n  setMoney(data.money);\n  data.stocks.forEach((element, i) => {\n    setStocks(oldArray => [...oldArray, {key: i, stockName: element.stockName, stats: [element.volumeOwned, data.worths[i]]}]);\n  });\n\n}\n\nfunction getProfileDetails(){\n  fetch(props.link + \"/profiledata\", {\n    method: 'POST',\n    mode: 'cors',\n    headers: {\"Accept\": \"application/json\", \"Content-Type\": \"application/json\"},\n    body: JSON.stringify({username: props.currentUsername}) //accept is not necessary\n})\n  .then((res) => res.json())\n  .then((res) => {\n  configureCards(\"Recents\", res.recent);\n  configureCards(\"Gained\", res.gained);\n  configureCards(\"Lost\", res.lost);\n  configureStocks(res.package);\n  setUpdates(1);\n  });\n}\nif(props.currentUsername!==\"\" && updates===0){\n  getProfileDetails();\n}\n\n\nconst [width, setWidth] = useState(window.innerWidth);\n\nconst updateWidth = () => {\n    if(document.getElementById(\"wrapper\")) {\n      setWidth(document.getElementById(\"wrapper\").getBoundingClientRect().width);\n      console.log(document.getElementById(\"wrapper\").getBoundingClientRect().width);\n    } \n  };\n\nuseEffect( () => {\n  window.addEventListener(\"resize\", updateWidth);\n  updateWidth();\n});\n\n\n\n\nreturn (\n<div>\n{props.currentUsername!==\"\" ?\n<div className=\"background-filler\">\n<div className=\"wrapper\" id=\"wrapper\">\n\n\n<div className=\"activity-header\">\n  <div className=\"activity-header-div\">\n    <h2 className=\"profile-activity-top-text\" style={{color: \"#0f52ba\"}}>Net Stock:</h2>\n    <h2 className=\"profile-activity-top-text\" style={{color: \"#0f52ba\"}}>${netStock}</h2>\n\n  </div>\n  <div className=\"activity-header-div\">\n    <h1 className=\"profile-activity-top-title\">Activity</h1>\n  </div>\n  <div className=\"activity-header-div\">\n    <h2 className=\"profile-activity-top-text\" style={{color: \"#50c878\", textAlign: \"right\"}}>Money:</h2>\n    <h2 className=\"profile-activity-top-text\" style={{color: \"#50c878\", textAlign: \"right\"}}>${money}</h2>\n  </div>\n</div>\n\n\n<ProfileCardSection \nrerouteStock={props.rerouteStock}\nname=\"Recently Bought\"\ncards = {recents}\nstatNames={[\"Date\", \"Owned\"]}\ncardType = {2}\nwidth={width}\n/>\n<ProfileCardSection\nrerouteStock={props.rerouteStock}\nname=\"Gained Most\"\ncards = {gained}\nstatNames={[\"Gained\", \"Owned\"]}\ncardType = {3}\nwidth={width}\n />\n<ProfileCardSection\nrerouteStock={props.rerouteStock}\nname=\"Lost Most\"\ncards = {lost}\nstatNames={[\"Lost\", \"Owned\"]}\ncardType = {1 }\nwidth={width}\n />\n\n<div className=\"your-stocks-header\">\n  <h1 className=\"profile-stocks-top-title\"><u>Your Stocks</u></h1>\n</div>\n<ProfileCardSection2\nrerouteStock={props.rerouteStock}\ncards = {stocks}\nwidth={width}\n/>\n</div>\n</div>\n:\n<div>\n<Message message=\"Login to see Profile\" color=\"black\" />\n</div>\n}\n\n</div>\n);\n}\nexport default Profile;"]},"metadata":{},"sourceType":"module"}